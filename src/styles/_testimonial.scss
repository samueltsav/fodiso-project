/** @format */

@use "variables" as *;
@use "base" as *;
@use "mixins" as *;

.testimonial {
	width: 100%;
	margin: 0 auto;
	background-color: rgba($silver, 0.6);
	padding: 1rem;
	font-size: $font-large;
	border-radius: 0.3rem;
	-webkit-border-radius: 0.3rem;
	-moz-border-radius: 0.3rem;
	-ms-border-radius: 0.3rem;
	-o-border-radius: 0.3rem;

	@media all and (min-width: 767px) {
		min-width: 40rem;
	}

	&--photo {
		width: 100%;
		transform: scale(1.1);
		-webkit-transform: scale(1.1);
		-moz-transform: scale(1.1);
		-ms-transform: scale(1.1);
		-o-transform: scale(1.1);
		transition: all 0.5s;
		-webkit-transition: all 0.5s;
		-moz-transition: all 0.5s;
		-ms-transition: all 0.5s;
		-o-transition: all 0.5s;

		&-container {
			width: 10rem;
			height: 10rem;
			float: left;
			overflow: hidden;
			position: relative;
			border-radius: 50%;
			-webkit-border-radius: 50%;
			-moz-border-radius: 50%;
			-ms-border-radius: 50%;
			-o-border-radius: 50%;

			@supports (
				((-webkit-clip-path: polygon(0 0)) or (clip-path: polygon(0 0)))
			) {
				-webkit-clip-path: circle(50% at 50% 50%);
				clip-path: circle(50% at 50% 50%);
				shape-outside: circle(50% at 50% 50%);
				border-radius: none;
				-webkit-border-radius: none;
				-moz-border-radius: none;
				-ms-border-radius: none;
				-o-border-radius: none;
			}
		}

		&-caption {
			position: absolute;
			top: 50%;
			left: 50%;
			color: $white;
			text-transform: uppercase;
			text-align: center;
			font-size: $font-large;
			transform: translate(-50%, 30%);
			-webkit-transform: translate(-50%, 30%);
			-moz-transform: translate(-50%, 30%);
			-ms-transform: translate(-50%, 30%);
			-o-transform: translate(-50%, 30%);
			opacity: 0;
			transition: all 0.5s;
			-webkit-transition: all 0.5s;
			-moz-transition: all 0.5s;
			-ms-transition: all 0.5s;
			-o-transition: all 0.5s;
			backface-visibility: hidden;
			-webkit-backface-visibility: hidden;
		}
	}

	&:hover &--photo-caption {
		opacity: 1;
		transform: translate(-50%, -50%);
		-webkit-transform: translate(-50%, -50%);
		-moz-transform: translate(-50%, -50%);
		-ms-transform: translate(-50%, -50%);
		-o-transform: translate(-50%, -50%);
	}

	&:hover &--photo {
		transform: scale(1);
		-webkit-transform: scale(1);
		-moz-transform: scale(1);
		-ms-transform: scale(1);
		-o-transform: scale(1);
		-webkit-filter: blur(0.3rem) brightness(80%);
		filter: blur(0.3rem) brightness(80%);
	}

	&--container {
		height: 20rem;
		display: flex;
		flex-direction: column;
		flex-shrink: 1;
		overflow-y: scroll;
		margin-bottom: 1rem;

		@media all and (min-width: 767px) {
			flex-direction: row;
			margin-bottom: 0;
			flex-grow: 1;
			margin-bottom: 0;
			margin-right: 1rem;
			overflow-y: none;
			overflow-x: scroll;
		}
	}
}

.section--testimonial {
	padding: 2rem;
}
